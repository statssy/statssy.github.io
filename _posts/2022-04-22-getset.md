---
layout: post
title:  "[코딩도장] set, get 그리고 프로퍼티(property)"
subtitle:   "Python"
categories: dev
tags: python
comments: true
---

세상엔 모르는거 투성이다. 모르고 넘어가면 후회할거 같아서 남겨본다. 이번 주제는 set, get 그리고 프로퍼티다.

---

### class안에 변수가 외부에서 바뀌는게 싫다.
파이썬에서 class를 사용하여 객체를 쓰게되면 큰 문제가 class로 선언된 객체의 변수를 밖에서 마음껏 바꿀수 있다는것  
아래처럼 c1의 v1에 대한 변수를 변경시키면 subtract메소드의 결과값이 바뀌게 된다.

```python
class Cal(object):
    def __init__(self, v1, v2):
        self.v1 = v1
        self.v2 = v2
    def add(self):
        return self.v1+self.v2
    def subtract(self):
        return self.v1-self.v2
c1 = Cal(10, 10)
print(c1.add()) # 20
c1.v1 = 20
print(c1.subtract()) # 10

c2 = Cal(30, 20)
print(c2.add()) # 50
print(c2.subtract()) # 10
```

### 변수 앞의 __
위처럼 안되게 할라면 어떻게 해야될까? 아래 코드를 보자.

```python
class Cal(object):
    def __init__(self, v1, v2):
        self.__v1 = v1
        self.__v2 = v2
    def add(self):
        return self.__v1+self.__v2
    def subtract(self):
        return self.__v1-self.__v2
c1 = Cal(10, 10)
print(c1.add()) # 20
c1.v1 = 20
# print(c1.__v1) # error
print(c1.subtract()) # 0

c2 = Cal(30, 20)
print(c2.add()) # 50
print(c2.subtract()) # 10
```

위 코드처럼 class 내부의 변수를 나타날때 __를 변수앞에 쓰면 내부에서만 변경 시킬수 있고 외부에서는 접근할수 없다.  

### get, set
그렇다면 임의로 바꾸고 싶을땐 어떻게 할까?  
맨앞에 방법말고 접근을 돌려서 할수있는 방법을 만들어보자  
이럴때 get, set 함수를 쓴다. get은 변수값을 불러오는 함수, set은 다른값을 변수에 지정할수 있게 하는 함수다.

```python
class Cal(object):
    def __init__(self, v1, v2):
        self.__v1 = v1
        self.__v2 = v2
    def get_v1(self): # v1만 언급했고 v2도 만들어줘야함. 예시니까 그냥 Go
        return self.__v1
    def set_v1(self, v1):
        self.__v1 = v1
    def add(self):
        return self.__v1+self.__v2
    def subtract(self):
        return self.__v1-self.__v2
c1 = Cal(10, 10)
print(c1.add()) # 20
c1.set_v1(20) # set 함수를 통해 변수 변화
print(c1.subtract()) # 10
```

### property와 메서드이름.setter
위의 예제는 c1.set_v1(20) 처럼 함수처럼 쓰는데, property랑 setter를 쓰면 메서드를 속성처럼 사용할 수 있다. 무슨말인지 모르겠다면 아래 코드를 보자
```python
class Cal(object):
    def __init__(self, v1, v2):
        self.__v1 = v1
        self.__v2 = v2
    
    @property
    def get_v1(self):
        return self.__v1

    @get_v1.setter
    def set_v1(self, v1):
        self.__v1 = v1
    
    def add(self):
        return self.__v1+self.__v2
    
    def subtract(self):
        return self.__v1-self.__v2
c1 = Cal(10, 10)
print(c1.add()) # 20
# print(c1.v1) # AttributeError: 'Cal' object has no attribute 'v1'
print(c1.get_v1) # 10
c1.set_v1 = 20
print(c1.subtract()) # 10
```
위처럼 c1.set_v1 = 20 처럼 값을 할당할수있다.

<br>
<br>
[https://copycode.tistory.com/170](https://copycode.tistory.com/170)
[https://dojang.io/mod/page/view.php?id=2476](https://dojang.io/mod/page/view.php?id=2476)